# Template file for 'wimlib'
pkgname=wimlib
version=1.12.0
revision=1
build_style=gnu-configure
configure_args="--with-libcrypto"
hostmakedepends="pkg-config"
makedepends="libxml2-devel ntfs-3g-devel libressl-devel"
short_desc="The open source Windows Imaging (WIM) library and programs"
maintainer="KenjiTakahashi <wozniakk@gmail.com>"
license="GPL-3"
homepage="https://wimlib.net"
distfiles="${homepage}/downloads/${pkgname}-${version}.tar.gz"
checksum=852cf59d682a91974f715f09fa98cab621b740226adcfea7a42360be0f86464f

libwimlib_package() {
	short_desc+=" - runtime library"
	pkg_install() {
		vmove /usr/lib/*.so.*
	}
}

wimlib-devel_package() {
	depends="${makedepends} libwimlib>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove /usr/lib/*.a
		vmove /usr/lib/*.so
		vmove usr/include
		vmove usr/lib/pkgconfig
	}
}
